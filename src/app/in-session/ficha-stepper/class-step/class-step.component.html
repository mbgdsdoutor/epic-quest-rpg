<h3>Classe escolhida: {{ ficha.class.name }}</h3>
<div style="display: flex; justify-content: space-between">
  <ul>
    <li>
      <p><span>Pontos de Vida:</span> {{ ficha.class.initialLifePoints }}</p>
    </li>
    <li>
      <p>
        <span>Pontos de Vida p/ nível:</span>
        {{ ficha.class.levelUpLifePoints }}
      </p>
    </li>
  </ul>
  <ul>
    <li>
      <p><span>Pontos de Mana:</span> {{ ficha.class.initialManaPoints }}</p>
    </li>
    <li>
      <p>
        <span>Pontos de Mana p/ nível:</span>
        {{ ficha.class.levelUpManaPoints }}
      </p>
    </li>
  </ul>
</div>

<div>
  <p>
    <span
      >Perícias: (Escolha até
      {{ ficha.class.periciasChoose[0].quantity }})</span
    >
  </p>

  <ng-select
    [(ngModel)]="ficha.pericias"
    id="pericias"
    [multiple]="true"
    [maxSelectedItems]="maxQntyPericias"
    [clearable]="false"
    [closeOnSelect]="false"
  >
    <ng-option
      *ngFor="let pericia of pericias"
      [value]="pericia"
      [disabled]="disabledPericias.includes(pericia.id) ? true : false"
      >{{ pericia.name }}</ng-option
    >
  </ng-select>
</div>

<!--BARBARO-->
<div *ngIf="ficha.class.id === 2">
  <div>
    <h4>Habilidades de Classe Lv. 1:</h4>
    <ul>
      <li *ngFor="let habilidade of barbarianLevelOne.fixedPowers">
        <p>
          <span>{{ habilidade.name }}:</span> {{ habilidade.description }}
        </p>
      </li>
    </ul>
  </div>
</div>

<!--BARDO-->
<div *ngIf="ficha.class.id === 3">
  <div>
    <h4>Habilidades de Classe Lv. 1:</h4>
    <ul>
      <li *ngFor="let habilidade of bardLevelOne.fixedPowers">
        <p>
          <span>{{ habilidade.name }}:</span> {{ habilidade.description }}
        </p>
      </li>
    </ul>
  </div>
  <div>
    <p>
      <span>Escolas de Magia</span>
    </p>

    <ng-select
      [(ngModel)]="ficha.class.magicSchoolsAllowed"
      id="schools"
      [multiple]="true"
      [maxSelectedItems]="3"
      [clearable]="false"
      [closeOnSelect]="false"
      (change)="updateSchools()"
    >
      <ng-option *ngFor="let school of magicSchools" [value]="school">{{
        school
      }}</ng-option>
    </ng-select>
  </div>

  <div
    *ngIf="
      !ficha.class.magicSchoolsAllowed ||
      ficha.class.magicSchoolsAllowed.length === 0
    "
  >
    <p>
      <span>Magias</span>
    </p>

    <ng-select
      [(ngModel)]="selectedPowers"
      id="schools"
      [multiple]="true"
      [maxSelectedItems]="bardLevelOne.chooseMagic.quantity"
      [clearable]="false"
      [closeOnSelect]="false"
    >
      <ng-option
        *ngFor="let magic of bardLevelOne.chooseMagic.magics"
        [value]="magic"
        >{{ magic.name }}</ng-option
      >
    </ng-select>
  </div>
</div>

<!--DRUIDA-->
<div *ngIf="ficha.class.id === 4">
  <div>
    <h4>Habilidades de Classe Lv. 1:</h4>
    <ul>
      <li *ngFor="let habilidade of druidLevelOne.fixedPowers">
        <p>
          <span>{{ habilidade.name }}:</span> {{ habilidade.description }}
        </p>
      </li>
    </ul>
  </div>
  <div>
    <p>
      <span>Escolas de Magia</span>
    </p>

    <ng-select
      [(ngModel)]="ficha.class.magicSchoolsAllowed"
      id="schools"
      [multiple]="true"
      [maxSelectedItems]="3"
      [clearable]="false"
      [closeOnSelect]="false"
      (change)="updateSchools()"
    >
      <ng-option *ngFor="let school of magicSchools" [value]="school">{{
        school
      }}</ng-option>
    </ng-select>
  </div>

  <div
    *ngIf="
      !ficha.class.magicSchoolsAllowed ||
      ficha.class.magicSchoolsAllowed.length === 0
    "
  >
    <p>
      <span>Magias</span>
    </p>

    <ng-select
      [(ngModel)]="selectedPowers"
      id="schools"
      [multiple]="true"
      [maxSelectedItems]="druidLevelOne.chooseMagic.quantity"
      [clearable]="false"
      [closeOnSelect]="false"
    >
      <ng-option
        *ngFor="let magic of druidLevelOne.chooseMagic.magics"
        [value]="magic"
        >{{ magic.name }}</ng-option
      >
    </ng-select>
  </div>
</div>

<!--GUERREIRO-->
<div *ngIf="ficha.class.id === 5">
  <div>
    <h4>Habilidades de Classe Lv. 1:</h4>
    <ul>
      <li *ngFor="let habilidade of warriorLevelOne.fixedPowers">
        <p>
          <span>{{ habilidade.name }}:</span> {{ habilidade.description }}
        </p>
      </li>
    </ul>
  </div>
</div>
