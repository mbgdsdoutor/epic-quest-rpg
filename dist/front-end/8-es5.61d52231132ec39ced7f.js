function _defineProperties(r,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function _createClass(r,e,o){return e&&_defineProperties(r.prototype,e),o&&_defineProperties(r,o),r}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{txKf:function(r,e,o){"use strict";o.r(e),o.d(e,"AuthModule",(function(){return K}));var t,i,n,a,s=o("ofXK"),c=o("3Pt+"),u=o("tk/3"),l=o("tyNb"),m=o("fXoL"),f=((t=function r(){_classCallCheck(this,r)}).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Hb({type:t,selectors:[["app-auth"]],decls:1,vars:0,template:function(r,e){1&r&&m.Ob(0,"router-outlet")},directives:[l.f],encapsulation:2}),t),b=o("UBG9"),d=o("LRne"),p=((i=function(){function r(e,o,t){_classCallCheck(this,r),this.http=e,this.tokenService=o,this.router=t}return _createClass(r,[{key:"authenticatea",value:function(r){return this.http.post("http://localhost:8085/api/v1/login",{username:r.username,password:r.password})}},{key:"authenticate",value:function(r){return Object(d.a)({access_token:"madokinha_star"})}},{key:"logout",value:function(){this.tokenService.signOut(),this.router.navigateByUrl("/auth/login")}}]),r}()).\u0275fac=function(r){return new(r||i)(m.Xb(u.a),m.Xb(b.a),m.Xb(l.c))},i.\u0275prov=m.Jb({token:i,factory:i.\u0275fac}),i),h=function(){return["/auth/password/"]},g=function(){return["/auth/register/"]},v=((n=function(){function r(e,o,t,i){_classCallCheck(this,r),this.formBuilder=e,this.tokenStorageService=o,this.router=t,this.authService=i}return _createClass(r,[{key:"ngOnInit",value:function(){this.configurarForm(),this.tokenStorageService.isLogged()&&this.router.navigateByUrl("/home")}},{key:"configurarForm",value:function(){var r=this.formBuilder.control(null,[c.r.required]),e=this.formBuilder.control(null,[c.r.required]);this.form=this.formBuilder.group({username:r,password:e})}},{key:"login",value:function(){var r=this,e=this.form.value;this.authService.authenticate(e).subscribe((function(o){console.log("MADOKAAAAAAAAAAAAAAA NELES",o),o&&o.access_token&&(r.tokenStorageService.saveToken(o.access_token),r.tokenStorageService.saveUser(e),r.router.navigateByUrl("/home"))}),(function(r){alert("erro doido!")}))}}]),r}()).\u0275fac=function(r){return new(r||n)(m.Nb(c.c),m.Nb(b.a),m.Nb(l.c),m.Nb(p))},n.\u0275cmp=m.Hb({type:n,selectors:[["app-login"]],decls:19,vars:5,consts:[[1,"auth-form-container",3,"formGroup"],["alt","epic-quest-logo","src","assets/images/epicquest.png"],[1,"auth-form"],[1,"field"],["for","username"],["placeholder","seu e-mail ou nome de usu\xe1rio","id","username","formControlName","username",1,"input"],["username",""],["for","password"],["placeholder","sua senha","type","password","id","password","formControlName","password",1,"input"],[1,"button--primary","full",3,"click"],[1,"auth-form-actions"],[1,"button--link",3,"routerLink"],[1,"button--primary",3,"routerLink"]],template:function(r,e){1&r&&(m.Tb(0,"form",0),m.Ob(1,"img",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Tb(4,"label",4),m.Ec(5,"Login"),m.Sb(),m.Ob(6,"input",5,6),m.Sb(),m.Tb(8,"div",3),m.Tb(9,"label",7),m.Ec(10,"Senha"),m.Sb(),m.Ob(11,"input",8),m.Sb(),m.Tb(12,"button",9),m.bc("click",(function(){return e.login()})),m.Ec(13,"Entrar"),m.Sb(),m.Tb(14,"div",10),m.Tb(15,"button",11),m.Ec(16,"Esqueceu sua senha?"),m.Sb(),m.Tb(17,"button",12),m.Ec(18,"Criar Conta"),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&r&&(m.kc("formGroup",e.form),m.Ab(15),m.kc("routerLink",m.mc(3,h)),m.Ab(2),m.kc("routerLink",m.mc(4,g)))},directives:[c.s,c.m,c.g,c.b,c.l,c.e,l.d],encapsulation:2}),n),S=function(){return["/auth/login/"]},k=((a=function(){function r(e,o,t,i){_classCallCheck(this,r),this.formBuilder=e,this.tokenStorageService=o,this.router=t,this.authService=i}return _createClass(r,[{key:"ngOnInit",value:function(){this.configurarForm(),this.tokenStorageService.isLogged()&&this.router.navigateByUrl("/home")}},{key:"configurarForm",value:function(){var r=this.formBuilder.control(null,[c.r.required]);this.form=this.formBuilder.group({email:r})}}]),r}()).\u0275fac=function(r){return new(r||a)(m.Nb(c.c),m.Nb(b.a),m.Nb(l.c),m.Nb(p))},a.\u0275cmp=m.Hb({type:a,selectors:[["app-forgot-password"]],decls:14,vars:3,consts:[[1,"auth-form-container",3,"formGroup"],["alt","epic-quest-logo","src","assets/images/epicquest.png"],[1,"auth-form"],[1,"field"],["for","username"],["placeholder","digite seu email cadastrado","id","email","formControlName","email",1,"input"],[1,"auth-form-actions"],[1,"button--link",3,"routerLink"],[1,"button--primary"]],template:function(r,e){1&r&&(m.Tb(0,"form",0),m.Ob(1,"img",1),m.Tb(2,"div",2),m.Tb(3,"p"),m.Ec(4,"Enviaremos um link para redefini\xe7\xe3o da sua senha para o e-mail fornecido."),m.Sb(),m.Tb(5,"div",3),m.Tb(6,"label",4),m.Ec(7,"E-mail"),m.Sb(),m.Ob(8,"input",5),m.Sb(),m.Tb(9,"div",6),m.Tb(10,"button",7),m.Ec(11,"Voltar para login"),m.Sb(),m.Tb(12,"button",8),m.Ec(13,"Enviar"),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&r&&(m.kc("formGroup",e.form),m.Ab(10),m.kc("routerLink",m.mc(2,S)))},directives:[c.s,c.m,c.g,c.b,c.l,c.e,l.d],encapsulation:2}),a),C=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"EMAIL",get:function(){return function(r){return r.value&&!r.value.match(/\S+@\S+\.\S+/)?{email:!0}:null}}},{key:"HORA",get:function(){return function(r){return r.value&&!r.value.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)?{hora:!0}:null}}}]),r}(),T=o("YBvw"),w=o("d3Ko"),N=o("6IIF");function y(r,e){1&r&&(m.Tb(0,"div"),m.Tb(1,"small"),m.Ec(2,"campo obrigat\xf3rio."),m.Sb(),m.Sb())}function A(r,e){1&r&&(m.Tb(0,"div"),m.Tb(1,"small"),m.Ec(2,"campo obrigat\xf3rio."),m.Sb(),m.Sb())}function E(r,e){1&r&&(m.Tb(0,"div"),m.Tb(1,"small"),m.Ec(2,"email inv\xe1lido."),m.Sb(),m.Sb())}function O(r,e){1&r&&(m.Tb(0,"div"),m.Tb(1,"small"),m.Ec(2,"campo obrigat\xf3rio."),m.Sb(),m.Sb())}function B(r,e){1&r&&(m.Tb(0,"div"),m.Tb(1,"small"),m.Ec(2,"campo obrigat\xf3rio."),m.Sb(),m.Sb())}function _(r,e){1&r&&(m.Tb(0,"div"),m.Tb(1,"small"),m.Ec(2,"campo obrigat\xf3rio."),m.Sb(),m.Sb())}function L(r,e){1&r&&(m.Tb(0,"div"),m.Tb(1,"small"),m.Ec(2,"campo obrigat\xf3rio."),m.Sb(),m.Sb())}function q(r,e){1&r&&(m.Tb(0,"div"),m.Tb(1,"small"),m.Ec(2,"as senhas devem coincidir."),m.Sb(),m.Sb())}var U,P,I,M=function(r){return{error:r}},F=function(){return["/auth/login/"]},x=[{path:"",component:f,children:[{path:"",pathMatch:"full",redirectTo:"home"},{path:"login",component:v},{path:"register",component:(U=function(){function r(e,o,t,i,n,a){_classCallCheck(this,r),this.formBuilder=e,this.loadingService=o,this.messageService=t,this.tokenStorageService=i,this.router=n,this.userService=a}return _createClass(r,[{key:"ngOnInit",value:function(){this.messageService.success("teste"),this.configurarForm(),this.tokenStorageService.isLogged()&&this.router.navigateByUrl("/home")}},{key:"configurarForm",value:function(){var r=this.formBuilder.control(null,[c.r.required]),e=this.formBuilder.control(null,[c.r.required,C.EMAIL]),o=this.formBuilder.control(null,[c.r.required]),t=this.formBuilder.control(null,[c.r.required]),i=this.formBuilder.control(null,[c.r.required]),n=this.formBuilder.control(null,[c.r.required,this.matchValues("password")]),a=this.formBuilder.control(null,[]);this.form=this.formBuilder.group({fullName:r,email:e,userName:o,description:t,password:i,confirmPassword:n,photoUrl:a})}},{key:"salvarUsuario",value:function(){var r=this,e=this.form.value;this.loadingService.startLoadingBar(),this.userService.saveUser(e).subscribe((function(e){r.loadingService.stopLoadingBar(),r.messageService.success("Usu\xe1rio registrado."),console.log("USUARIO SALVO COM SUCESSO!",e)}),(function(e){r.loadingService.stopLoadingBar(),r.messageService.error("Erro ao salvar usu\xe1rio.")}))}},{key:"matchValues",value:function(r){return function(e){return e.parent&&e.parent.value&&e.value===e.parent.controls[r].value?null:{isMatching:!0}}}}]),r}(),U.\u0275fac=function(r){return new(r||U)(m.Nb(c.c),m.Nb(T.a),m.Nb(w.a),m.Nb(b.a),m.Nb(l.c),m.Nb(N.a))},U.\u0275cmp=m.Hb({type:U,selectors:[["app-register"]],decls:46,vars:33,consts:[[1,"auth-form-container",3,"formGroup"],[1,"register-form-header"],[1,"auth-form"],[1,"field",3,"ngClass"],["for","fullName"],["placeholder","seu nome completo","id","fullName","formControlName","fullName",1,"input"],[4,"ngIf"],["for","email"],["placeholder","seu email","id","email","formControlName","email",1,"input"],["for","userName"],["placeholder","seu nome de usu\xe1rio (nick)","id","userName","formControlName","userName",1,"input"],["for","description"],["placeholder","fale um pouco sobre voc\xea","id","description","formControlName","description",1,"input"],["for","photoUrl"],["placeholder","url da foto","id","photoUrl","formControlName","photoUrl",1,"input"],["for","password"],["placeholder","digite sua senha","type","password","id","password","formControlName","password",1,"input"],["for","confirmPassword"],["placeholder","confirme sua senha","type","password","id","confirmPassword","formControlName","confirmPassword",1,"input"],[1,"auth-form-actions"],[1,"button--link",3,"routerLink"],[1,"button--primary",3,"disabled","click"]],template:function(r,e){1&r&&(m.Tb(0,"form",0),m.Tb(1,"div",1),m.Tb(2,"h3"),m.Ec(3,"Criar uma nova conta"),m.Sb(),m.Sb(),m.Tb(4,"div",2),m.Tb(5,"div",3),m.Tb(6,"label",4),m.Ec(7,"Nome Completo"),m.Sb(),m.Ob(8,"input",5),m.Cc(9,y,3,0,"div",6),m.Sb(),m.Tb(10,"div",3),m.Tb(11,"label",7),m.Ec(12,"E-mail"),m.Sb(),m.Ob(13,"input",8),m.Cc(14,A,3,0,"div",6),m.Cc(15,E,3,0,"div",6),m.Sb(),m.Tb(16,"div",3),m.Tb(17,"label",9),m.Ec(18,"Nome de Usu\xe1rio"),m.Sb(),m.Ob(19,"input",10),m.Cc(20,O,3,0,"div",6),m.Sb(),m.Tb(21,"div",3),m.Tb(22,"label",11),m.Ec(23,"Descri\xe7\xe3o"),m.Sb(),m.Ob(24,"input",12),m.Cc(25,B,3,0,"div",6),m.Sb(),m.Tb(26,"div",3),m.Tb(27,"label",13),m.Ec(28,"Foto"),m.Sb(),m.Ob(29,"input",14),m.Sb(),m.Tb(30,"div",3),m.Tb(31,"label",15),m.Ec(32,"Senha"),m.Sb(),m.Ob(33,"input",16),m.Cc(34,_,3,0,"div",6),m.Sb(),m.Tb(35,"div",3),m.Tb(36,"label",17),m.Ec(37,"Confirmar Senha"),m.Sb(),m.Ob(38,"input",18),m.Cc(39,L,3,0,"div",6),m.Cc(40,q,3,0,"div",6),m.Sb(),m.Tb(41,"div",19),m.Tb(42,"button",20),m.Ec(43,"J\xe1 \xe9 cadastrado?"),m.Sb(),m.Tb(44,"button",21),m.bc("click",(function(){return e.salvarUsuario()})),m.Ec(45,"Registrar"),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&r&&(m.kc("formGroup",e.form),m.Ab(5),m.kc("ngClass",m.nc(18,M,e.form.get("fullName").errors&&e.form.get("fullName").touched)),m.Ab(4),m.kc("ngIf",e.form.get("fullName").errors&&e.form.get("fullName").errors.required),m.Ab(1),m.kc("ngClass",m.nc(20,M,e.form.get("email").errors&&e.form.get("email").touched)),m.Ab(4),m.kc("ngIf",e.form.get("email").errors&&e.form.get("email").errors.required),m.Ab(1),m.kc("ngIf",e.form.get("email").errors&&e.form.get("email").errors.email),m.Ab(1),m.kc("ngClass",m.nc(22,M,e.form.get("userName").errors&&e.form.get("userName").touched)),m.Ab(4),m.kc("ngIf",e.form.get("userName").errors&&e.form.get("userName").errors.required),m.Ab(1),m.kc("ngClass",m.nc(24,M,e.form.get("description").errors&&e.form.get("description").touched)),m.Ab(4),m.kc("ngIf",e.form.get("description").errors&&e.form.get("description").errors.required),m.Ab(1),m.kc("ngClass",m.nc(26,M,e.form.get("photoUrl").errors&&e.form.get("photoUrl").touched)),m.Ab(4),m.kc("ngClass",m.nc(28,M,e.form.get("password").errors&&e.form.get("password").touched)),m.Ab(4),m.kc("ngIf",e.form.get("password").errors&&e.form.get("password").errors.required),m.Ab(1),m.kc("ngClass",m.nc(30,M,e.form.get("confirmPassword").errors&&e.form.get("confirmPassword").touched)),m.Ab(4),m.kc("ngIf",e.form.get("confirmPassword").errors&&e.form.get("confirmPassword").errors.required),m.Ab(1),m.kc("ngIf",e.form.get("confirmPassword").errors&&e.form.get("confirmPassword").errors.isMatching),m.Ab(2),m.kc("routerLink",m.mc(32,F)),m.Ab(2),m.kc("disabled",e.form.invalid||e.form.pristine))},directives:[c.s,c.m,c.g,s.i,c.b,c.l,c.e,s.k,l.d],styles:[".register-form-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:24px 32px 0;width:100%;max-width:520px}.register-form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}"]}),U)},{path:"password",component:k}]}],G=((I=function r(){_classCallCheck(this,r)}).\u0275mod=m.Lb({type:I}),I.\u0275inj=m.Kb({factory:function(r){return new(r||I)},imports:[[l.e.forChild(x),u.b,c.h,s.c],l.e]}),I),K=((P=function r(){_classCallCheck(this,r)}).\u0275mod=m.Lb({type:P}),P.\u0275inj=m.Kb({factory:function(r){return new(r||P)},providers:[p,N.a],imports:[[G,c.h,c.q,s.c]]}),P)}}]);